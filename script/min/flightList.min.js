var report=angular.module("report",[]);flightList.controller("report",["$scope","searchData","flightData","flightListRs","$location","flightCheckRs","travelPackD",function(e,r){function t(e,r,t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+r+"; "+i}function a(e){for(var r=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){var i=t[a].trim();if(0==i.indexOf(r))return i.substring(r.length,i.length)}return""}function i(){var r=a("Last_Search");""!=r&&(e.search_c=JSON.parse(r),console.log(e.search_c))}if(e.getData=r.data(),e.filter={lp:null,hp:null},e.minP=null,e.maxP=null,e.minPrice=0,e.maxPrice=5e9,e.airlineName=null,e.sort='["@operPrice"]',e.sorting=[{name:"Lowest Price",value:'["@operPrice"]'},{name:"Highest Price",value:'-["@operPrice"]'},{name:"Lowest Switch/Stopover",value:"extra.adtFlightInfo.outbound|stopover"},{name:"Higest Switch/Stopover",value:"-extra.adtFlightInfo.outbound|stopover"},{name:"Airline Name Asc.",value:'extra.adtFlightInfo.outbound.leg0["@carrierCodeDesc"]'},{name:"Airline Name Desc.",value:'-extra.adtFlightInfo.outbound.leg0["@carrierCodeDesc"]'}],e.priceMin=function(r){return parseFloat(r["@operPrice"])>=e.minPrice},e.priceMax=function(r){return parseFloat(r["@operPrice"])<=e.maxPrice},e.applyfilter=function(){e.minPrice=e.minP,e.maxP>0&&e.maxP>e.minP&&(e.maxPrice=e.maxP),null!=e.airlineName&&(e.aName.extra.adtFlightInfo.outbound.leg0["@carrierCodeDesc"]=e.airlineName)},0==e.getData[0].fDepDate)i();else{e.search_c=e.getData[0];var n=JSON.stringify(e.search_c);t("Last_Search",n,30)}}]);