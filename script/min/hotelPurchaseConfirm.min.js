var HotelPurchaseConfirm=angular.module("HotelPurchaseConfirm",["angular.filter","ui.bootstrap"]);HotelPurchaseConfirm.directive("onFinishRender",function(e){return{restrict:"A",link:function(t){t.$last===!0&&e(function(){t.$emit("ngRepeatFinished")})}}}),HotelPurchaseConfirm.controller("HotelPurchaseConfirm",["$scope","searchData","hotelData","purchaseConfirmRs","purchaseData","sendmailRS",function(e,t,o,a,n,r){e.getData=t.data(),e.getHotel=o.data(),console.log(e.getHotel);var l=e.getHotel.length;console.log(e.getHotel[l-1]),e.getSelected=n.data(),console.log(e.getSelected),e.hpurchaseConf=a.get({ptoken:e.getSelected[0]["@purchaseToken"],SerSpui:e.getSelected[0].ServiceList.Service["@SPUI"],leadHolder:e.getHotel[l-1],Guest:JSON.stringify(e.getHotel[1])},function(){e.AddedServRs=e.hpurchaseConf,console.log(e.AddedServRs),n.setData(e.AddedServRs),e.sendbook=r.get({hotelname:e.getHotel[0].HotelInfo.Name,hotelAddress:e.getHotel[0].HotelInfo.Destination.ZoneList.Zone["@code"]+" "+e.getHotel[0].HotelInfo.Destination.ZoneList.Zone.$+" "+e.getHotel[0].HotelInfo.Destination.Name,hcheckin:e.getData[22].valueDataLong,hcheckout:e.getData[23].valueDataLong,Rooms:JSON.stringify(e.AddedServRs.PurchaseConfirmRS.Purchase.ServiceList.Service.AvailableRoom),References:JSON.stringify(e.AddedServRs.PurchaseConfirmRS.Purchase.ServiceList.Service.Reference),totalNight:e.getData[24].valueData,totalAdult:e.getData[17].valueData,totalChild:e.getData[18].valueData,totalRoom:e.getData[19].valueData,totalAmount:e.AddedServRs.PurchaseConfirmRS.Purchase.ServiceList.Service.TotalAmount,bookingCode:e.AddedServRs.PurchaseConfirmRS.Purchase["@purchaseToken"]},function(){e.user=e.sendbook,console.log(e.user)})})}]);