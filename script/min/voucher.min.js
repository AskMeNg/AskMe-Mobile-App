var voucher=angular.module("voucher",["angular.filter","ui.bootstrap"]);voucher.directive("onFinishRender",function(t){return{restrict:"A",link:function(e){e.$last===!0&&t(function(){e.$emit("ngRepeatFinished")})}}}),voucher.controller("voucher",["$scope","searchData","tourData","hotelData","transferData","purchaseConfirmRs","purchaseData","sendmailRS","userData","$http","flightBookRs","flightData","travelPackD","PayGatewayRQRS","sendmailFlight",function(t,e,i,o,r,n,a,s,l,u,f,g,c,h,d){function p(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){var r=i[o].trim();if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}function _(e){var i=p(e);return""!=i?(t.trip=JSON.parse(i),t.trip):void 0}for(t.tot_trip=_("travelPD"),t.all_guests=_("Guest"),t.user=l.data(),$i=0;$i<t.tot_trip.length;$i++)"Flight"==t.tot_trip[$i].productType&&(t.flight_guest=JSON.stringify(t.all_guests[$i]),t.flight_details=JSON.stringify(t.tot_trip[$i]),t.fBook=f.get({guest_details:t.flight_guest,details:t.flight_details},function(){t.f_booker=t.fBook.response,console.log(t.f_booker),t.sendbook=d.get({flightDetails:JSON.stringify(t.f_booker.offer),GuestDetails:t.flight_guest,bookingCode:t.f_booker.booking_number},function(){t.user=t.sendbook,console.log(t.user)})}))}]);